{{- define "main" -}}
<div class="wrapper list-page">
    <header class="header">
        <h1 class="header-title center">{{ .Title }}</h1>
    </header>
    <main class="page-content" aria-label="Content">
        {{/* 카테고리 순서 정의 */}}
        {{ $order := slice "ai-coding" "ai-tools" "ai-product" "tutorials" }}
        {{ $allTerms := .Data.Terms.Alphabetical }}
        
        {{/* 정의된 순서대로 카테고리 표시 */}}
        {{ range $order }}
            {{ $currentSlug := . }}
            {{ range $allTerms }}
                {{ if eq (lower .Page.Title | urlize) $currentSlug }}
                    <article class="post-item">
                        <div class="post-item-wrapper">
                            <h2 class="post-item-title">
                                <a href="{{ .Page.Permalink }}">{{ .Page.Title }}</a>
                            </h2>
                            <div class="post-item-meta">
                                <span class="post-count">{{ .Count }} {{ if eq .Count 1 }}post{{ else }}posts{{ end }}</span>
                            </div>
                        </div>
                    </article>
                {{ end }}
            {{ end }}
        {{ end }}
        
        {{/* 순서에 없는 다른 카테고리들 표시 */}}
        {{ range $allTerms }}
            {{ $slug := lower .Page.Title | urlize }}
            {{ $inOrder := false }}
            {{ range $order }}
                {{ if eq . $slug }}
                    {{ $inOrder = true }}
                {{ end }}
            {{ end }}
            {{ if not $inOrder }}
                <article class="post-item">
                    <div class="post-item-wrapper">
                        <h2 class="post-item-title">
                            <a href="{{ .Page.Permalink }}">{{ .Page.Title }}</a>
                        </h2>
                        <div class="post-item-meta">
                            <span class="post-count">{{ .Count }} {{ if eq .Count 1 }}post{{ else }}posts{{ end }}</span>
                        </div>
                    </div>
                </article>
            {{ end }}
        {{ end }}
    </main>
</div>
{{- end -}}
